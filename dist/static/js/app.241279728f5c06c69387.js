webpackJsonp([1],{"7Otq":function(e,a,t){e.exports=t.p+"./sistema-gimnasio/dist/static/img/logo.4164a55.png"},KLwY:function(e,a){},NHnr:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t("7+uW"),r=t("fZjL"),s=t.n(r),n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],l={generarURL:function(e){return"http://localhost/sistema-gimnasio/api/"+e},obtenerClaves:function(e){return e.map(function(e){return e[s()(e)[0]]})},obtenerValores:function(e){return e.map(function(e){return e.numeroVisitas})},obtenerValoresPagos:function(e){return e.map(function(e){return parseInt(e.total)})},cambiarDiaSemana:function(e){for(var a=0;a<e.length;a++){var t=e[a].numeroDia;e[a].dia=n[t-1]}return e},cambiarNumeroANombreMes:function(e){for(var a=0;a<e.length;a++){var t=e[a].mes;e[a].mes=i[t-1]}return e}},c={name:"Encabezado",data:function(){return{drawer:!1,nombreUsuario:"",nombreGimnasio:"",logo:"",items:[{title:"Inicio",icon:"mdi-view-dashboard",link:"/"},{title:"Registrar visita",icon:"mdi-home-account",link:"/registrar-visita"},{title:"Usuarios",icon:"mdi-account-box",link:"/usuarios"},{title:"Miembros",icon:"mdi-weight-lifter",link:"/miembros"},{title:"Membresías",icon:"mdi-wallet-membership",link:"/membresias"},{title:"Pagos",icon:"mdi-account-cash",link:"/pagos"},{title:"Visitas",icon:"mdi-calendar-star",link:"/visitas"},{title:"Configurar",icon:"mdi-cog",link:"/configurar"},{title:"Mi perfil",icon:"mdi-account-key",link:"/perfil"}]}},mounted:function(){this.nombreUsuario=localStorage.getItem("nombreUsuario"),this.nombreGimnasio=localStorage.getItem("nombreGimnasio"),this.logo=localStorage.getItem("logoGimnasio")},methods:{salir:function(){localStorage.removeItem("logeado"),localStorage.removeItem("nombreUsuario"),localStorage.removeItem("idUsuario"),window.location.reload()},urlImagen:function(e){return l.generarURL(e)}}},m={render:function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[o("v-app-bar",{staticClass:"flex-grow-0",attrs:{color:"primary",app:"",dark:""}},[o("v-app-bar-nav-icon",{on:{click:function(a){a.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),o("v-toolbar-title",[o("img",{attrs:{src:t("7Otq"),width:"200"}})]),e._v(" "),o("v-spacer"),e._v(" "),o("v-btn",{attrs:{icon:""},on:{click:e.salir}},[o("v-icon",[e._v("logout")])],1)],1),e._v(" "),o("v-navigation-drawer",{staticClass:"fondo",attrs:{app:""},model:{value:e.drawer,callback:function(a){e.drawer=a},expression:"drawer"}},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h6 white--text"},[o("v-avatar",[o("img",{attrs:{src:e.urlImagen(e.logo),alt:"Logo"}})]),e._v("\n          "+e._s(e.nombreGimnasio)+"\n          ")],1),e._v(" "),o("v-list-item-subtitle",{staticClass:"text-h6 white--text"},[e._v(" "+e._s(e.nombreUsuario)+" ")])],1)],1),e._v(" "),o("v-divider"),e._v(" "),o("v-list",{attrs:{dense:"",nav:""}},e._l(e.items,function(a){return o("v-list-item",{key:a.title,staticClass:"white--text",attrs:{link:"",to:a.link}},[o("v-list-item-icon",[o("v-icon",{staticClass:"white--text"},[e._v(e._s(a.icon))])],1),e._v(" "),o("v-list-item-content",[o("v-list-item-title",[e._v(e._s(a.title))])],1)],1)}),1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")(c,m,!1,function(e){t("h+Yk")},null,null).exports,d=t("Xxa5"),v=t.n(d),g=t("mvHQ"),b=t.n(g),f=t("exGp"),p=t.n(f),h="http://localhost/sistema-gimnasio/api/",_={registrar:function(e,a){var t=this;return p()(v.a.mark(function o(){var r,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h+a,{method:"post",body:b()(e)});case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},o,t)}))()},obtenerConDatos:function(e,a){var t=this;return p()(v.a.mark(function o(){var r,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h+a,{method:"post",body:b()(e)});case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},o,t)}))()},obtener:function(e){var a=this;return p()(v.a.mark(function t(){var o,r;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(h+e);case 2:return o=a.sent,a.next=5,o.json();case 5:return r=a.sent,a.abrupt("return",r);case 7:case"end":return a.stop()}},t,a)}))()},eliminar:function(e,a){var t=this;return p()(v.a.mark(function o(){var r,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h+e,{method:"post",body:b()(a)});case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},o,t)}))()}},x={name:"Login",data:function(){return{usuario:"",password:"",mensaje:{texto:"",color:""},mostrarMensaje:!1}},methods:{iniciarSesion:function(){var e=this;if(!this.usuario)return this.mostrarMensaje=!0,this.mensaje.texto="Debes colocar el usuario",void(this.mensaje.color="warning");if(!this.password)return this.mostrarMensaje=!0,this.mensaje.texto="Debes colocar la contraseña",void(this.mensaje.color="warning");var a={metodo:"login",usuario:{usuario:this.usuario,password:this.password}};_.obtenerConDatos(a,"usuarios.php").then(function(a){a&&e.$emit("logeado",a)})}}},C={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"fondo"},[t("v-container",{attrs:{fluid:"","fill-height":""}},[t("v-layout",{attrs:{"align-center":"","justify-center":""}},[t("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[t("v-card",{staticClass:"elevation-12",attrs:{height:"100%"}},[t("v-toolbar",{attrs:{dark:"",color:"primary"}},[t("v-toolbar-title",[e._v("Iniciar sesión")])],1),e._v(" "),t("v-card-text",[t("v-form",[t("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Usuario",type:"text"},model:{value:e.usuario,callback:function(a){e.usuario=a},expression:"usuario"}}),e._v(" "),t("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Contraseña",type:"password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.iniciarSesion}},[e._v("Ingresar")])],1)],1)],1)],1),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n      "+e._s(e.mensaje.texto)+"\n  ")])],1),e._v(" "),t("img",{attrs:{src:"https://2.bp.blogspot.com/-jKpjKDz7IMA/W7z4LIu9k_I/AAAAAAAACoA/r7AvmvmDDkomR1KA96D1cvBV5gom69zOgCLcBGAs/s0/gym.png",alt:""}})],1)},staticRenderFns:[]};var k=t("VU/8")(x,C,!1,function(e){t("KLwY")},null,null).exports,M={name:"CambiarPassword",data:function(){return{mostrarMensaje:!1,mensaje:{texto:"",color:""},formValido:!1,mostrarPasswordActual:!1,mostrarNueva:!1,mostrarRepetida:!1,passwordActual:"",nuevaPassword:"",repitePassword:"",rules:{required:function(e){return!!e||"Debes colocar este dato."},min:function(e){return e.length>=8||"Mínimo 8 caracteres"}}}},methods:{cambiar:function(){var e=this;return p()(v.a.mark(function a(){var t,o;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.verificarPasswordActual();case 2:if(t=a.sent,console.log(t),t){a.next=8;break}return e.mostrarMensaje=!0,e.mensaje={texto:"La contraseña actual ingresada es incorrecta",color:"error"},a.abrupt("return");case 8:if(e.nuevaPassword===e.repitePassword){a.next=12;break}return e.mostrarMensaje=!0,e.mensaje={texto:"La contraseña repetida debe coincidir con la nueva",color:"error"},a.abrupt("return");case 12:o={metodo:"cambiar_pass",idUsuario:localStorage.getItem("idUsuario"),password:e.repitePassword},_.registrar(o,"usuarios.php").then(function(a){a&&(e.mostrarMensaje=!0,e.mensaje={texto:"La contraseña se ha actualizado. Debes iniciar sesión de nuevo",color:"success"},localStorage.removeItem("logeado"),window.location.reload())});case 14:case"end":return a.stop()}},a,e)}))()},verificarPasswordActual:function(){var e=this;return p()(v.a.mark(function a(){var t,o;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={metodo:"verifica_pass",password:e.passwordActual,id:localStorage.getItem("idUsuario")},a.next=3,_.obtenerConDatos(t,"usuarios.php");case 3:return o=a.sent,a.abrupt("return",o);case 5:case"end":return a.stop()}},a,e)}))()}}},P={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("h1",[e._v("Cambiar contraseña")]),e._v(" "),t("v-form",{ref:"form",model:{value:e.formValido,callback:function(a){e.formValido=a},expression:"formValido"}},[t("v-card",{staticClass:"mx-auto",attrs:{elevation:"5"}},[t("v-card-text",[t("v-text-field",{attrs:{"append-icon":e.mostrarPasswordActual?"mdi-eye":"mdi-eye-off",type:e.mostrarPasswordActual?"text":"password",name:"input-10-1",label:"Contraseña actual",hint:"Por lo menos 8 caracteres",counter:""},on:{"click:append":function(a){e.mostrarPasswordActual=!e.mostrarPasswordActual}},model:{value:e.passwordActual,callback:function(a){e.passwordActual=a},expression:"passwordActual"}}),e._v(" "),t("v-text-field",{attrs:{"append-icon":e.mostrarNueva?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.mostrarNueva?"text":"password",name:"input-10-1",label:"Contraseña nueva",hint:"Por lo menos 8 caracteres",counter:""},on:{"click:append":function(a){e.mostrarNueva=!e.mostrarNueva}},model:{value:e.nuevaPassword,callback:function(a){e.nuevaPassword=a},expression:"nuevaPassword"}}),e._v(" "),t("v-text-field",{attrs:{"append-icon":e.mostrarRepetida?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.mostrarRepetida?"text":"password",name:"input-10-1",label:"Repite la nueva contraseña",hint:"Por lo menos 8 caracteres",counter:""},on:{"click:append":function(a){e.mostrarRepetida=!e.mostrarRepetida}},model:{value:e.repitePassword,callback:function(a){e.repitePassword=a},expression:"repitePassword"}})],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary",text:"",disabled:!e.formValido},on:{click:e.cambiar}},[e._v("\n          Registrar\n        ")])],1)],1)],1),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")])],1)},staticRenderFns:[]},w=t("VU/8")(M,P,!1,null,null,null).exports,j={render:function(){var e=this.$createElement,a=this._self._c||e;return a("v-footer",{staticClass:"mt-5",attrs:{padless:""}},[a("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"py-2 text-center"},[this._v("\n      "+this._s((new Date).getFullYear())+" — "),a("img",{attrs:{src:t("7Otq"),width:"100"}})])],1)],1)},staticRenderFns:[]},y={name:"App",components:{Encabezado:u,Login:k,CambiarPassword:w,PieComponent:t("VU/8")({name:"PieComponent"},j,!1,null,null,null).exports},data:function(){return{logeado:!1,debeCambiarPassword:!1,mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){this.obtenerInformacionNegocio(),this.verificarSesion()&&(this.logeado=!0)},methods:{onLog:function(e){return console.log(e),e.resultado?"cambia"===e.resultado?(this.mostrarMensaje=!0,this.mensaje={texto:"Datos correctos. Por favor cambia tu contraseña",color:"indigo"},this.debeCambiarPassword=!0,this.logeado=!0,void this.establecerUsuario(e.datos.nombreUsuario,e.datos.idUsuario)):void(e.resultado&&(this.logeado=!0,localStorage.setItem("logeado",!0),this.establecerUsuario(e.datos.nombreUsuario,e.datos.idUsuario),this.mostrarMensaje=!0,this.mensaje={texto:"Datos correctos. Bienvenido",color:"success"},this.$router.push({name:"InicioComponent"}))):(this.mostrarMensaje=!0,void(this.mensaje={texto:"Datos incorrectos, verifica la información",color:"error"}))},verificarSesion:function(){var e=localStorage.getItem("logeado");return e||!1},establecerUsuario:function(e,a){localStorage.setItem("nombreUsuario",e),localStorage.setItem("idUsuario",a)},obtenerInformacionNegocio:function(){_.obtenerConDatos({metodo:"obtener"},"ajustes.php").then(function(e){localStorage.setItem("nombreGimnasio",e.nombre),localStorage.setItem("logoGimnasio",e.logo),localStorage.setItem("telefonoGimnasio",e.telefono),localStorage.setItem("direccionGimnasio",e.direccion)})}}},R={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("v-app",[e.logeado?e._e():t("login",{on:{logeado:e.onLog}}),e._v(" "),e.debeCambiarPassword?t("cambiar-password"):e._e(),e._v(" "),e.logeado&&!e.debeCambiarPassword?t("div",[t("encabezado"),e._v(" "),t("v-main",[t("v-container",{attrs:{fluid:""}},[t("router-view"),e._v(" "),t("pie-component")],1)],1)],1):e._e(),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n          "+e._s(e.mensaje.texto)+"\n      ")])],1)],1)},staticRenderFns:[]},S=t("VU/8")(y,R,!1,null,null,null).exports,V=t("/ocq"),D={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"my-2"},[a("v-btn",{attrs:{"x-large":"",color:"success",dark:""}},[this._v("\n            Extra large Button\n          ")])],1)},staticRenderFns:[]};t("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},D,!1,function(e){t("i4bk")},"data-v-36c72dc7",null).exports;var E={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-card",[t("v-card-title",[t("span",{staticClass:"text-h5"},[e._v(e._s(e.titulo)+" membresía")])]),e._v(" "),t("v-card-text",[t("v-container",[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValido,callback:function(a){e.formValido=a},expression:"formValido"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Nombre de la membresía",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.membresia.nombre,callback:function(a){e.$set(e.membresia,"nombre",a)},expression:"membresia.nombre"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Días de duración",rules:e.reglas,type:"number",required:"","hide-details":"auto"},model:{value:e.membresia.duracion,callback:function(a){e.$set(e.membresia,"duracion",a)},expression:"membresia.duracion"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Precio",rules:e.reglas,type:"number",required:"","hide-details":"auto"},model:{value:e.membresia.precio,callback:function(a){e.$set(e.membresia,"precio",a)},expression:"membresia.precio"}})],1)],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v(" Cerrar ")]),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.formValido},on:{click:e.registrar}},[e._v("\n      Registrar\n    ")])],1)],1)},staticRenderFns:[]},U=t("VU/8")({name:"FormMembresia",props:["membresia","titulo"],data:function(){return{formValido:!1,reglas:[function(e){return!!e||"Debes colocar este campo."}]}},mounted:function(){this.formValido=!1},methods:{cerrarDialogo:function(){this.$emit("cerrado",!1)},registrar:function(){this.$emit("registrar",this.membresia)}}},E,!1,null,null,null).exports,I={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("¿Seguro que deseas eliminar "+e._s(e.nombre)+"?")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.eliminar}},[e._v("OK")]),e._v(" "),t("v-spacer")],1)],1)},staticRenderFns:[]},z=t("VU/8")({name:"DialogoEliminar",props:["nombre"],methods:{cerrarDialogo:function(){this.$emit("cancelar",!1)},eliminar:function(){this.$emit("eliminar",!0)}}},I,!1,null,null,null).exports,$={name:"Membresias",components:{FormMembresia:U,DialogoEliminar:z},data:function(){return{cargando:!1,mostrarDialogo:!1,mostrarDialogoEliminar:!1,membresia:{nombre:"",duracion:"",precio:""},membresias:[],mensaje:{texto:"",color:""},mostrarMensaje:!1,encabezadoTabla:[{text:"Membresía",sortable:!0,value:"nombre"},{text:"Duración",value:"duracion"},{text:"Precio",value:"precio"},{text:"Opciones",value:"opciones",sortable:!1}],titulo:"Agregar",itemSeleccionado:""}},mounted:function(){this.obtenerMembresias()},methods:{editar:function(e){this.titulo="Editar",this.membresia=e,this.mostrarDialogo=!0},eliminar:function(e){this.itemSeleccionado=e.nombre,this.membresia=e,this.mostrarDialogoEliminar=!0},cerrarDialogoEliminar:function(){this.mostrarDialogoEliminar=!1,this.membresia={nombre:"",duracion:"",precio:""}},confirmarEliminar:function(){var e=this;this.cargando=!0;var a={metodo:"delete",id:this.membresia.id};_.eliminar("membresias.php",a).then(function(a){a&&(e.mostrarDialogoEliminar=!1,e.mostrarMensaje=!0,e.mensaje.texto="Membresía eliminada",e.mensaje.color="success",e.cargando=!1,e.obtenerMembresias())})},onCerrado:function(e){this.membresia={nombre:"",duracion:"",precio:""},this.mostrarDialogo=e,this.titulo="Agregar"},onRegistrar:function(e){var a=this,t="Agregar"===this.titulo?"post":"put";this.membresia=e,this.cargando=!0;var o={metodo:t,membresia:this.membresia};_.registrar(o,"membresias.php").then(function(e){e&&(a.membresia={nombre:"",duracion:"",precio:""},a.mostrarDialogo=!1,a.mostrarMensaje=!0,a.mensaje.texto="Membresía registrada",a.mensaje.color="success",a.cargando=!1,a.obtenerMembresias(),a.titulo="Agregar")})},obtenerMembresias:function(){var e=this;this.cargando=!0;_.obtenerConDatos({metodo:"get"},"membresias.php").then(function(a){e.membresias=a,e.cargando=!1})}}},F={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-progress-linear",{attrs:{active:e.cargando,indeterminate:e.cargando,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),t("h1",[e._v("Membresías")]),e._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.encabezadoTabla,items:e.membresias,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.opciones",fn:function(a){var o=a.item;return[t("v-icon",{staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(a){return e.editar(o)}}},[e._v("\n            mdi-pencil\n        ")]),e._v(" "),t("v-icon",{attrs:{color:"red"},on:{click:function(a){return e.eliminar(o)}}},[e._v("\n            mdi-delete\n        ")])]}}],null,!0)}),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")]),e._v(" "),t("v-btn",{attrs:{fab:"",dark:"","x-large":"",elevation:"8",color:"primary",fixed:"",right:"",bottom:""},on:{click:function(a){e.mostrarDialogo=!0}}},[t("v-icon",{attrs:{dark:""}},[e._v("add")])],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mostrarDialogo,callback:function(a){e.mostrarDialogo=a},expression:"mostrarDialogo"}},[t("form-membresia",{attrs:{membresia:e.membresia,titulo:e.titulo},on:{cerrado:e.onCerrado,registrar:e.onRegistrar}})],1),e._v(" "),t("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.mostrarDialogoEliminar,callback:function(a){e.mostrarDialogoEliminar=a},expression:"mostrarDialogoEliminar"}},[t("dialogo-eliminar",{attrs:{nombre:e.itemSeleccionado},on:{cancelar:e.cerrarDialogoEliminar,eliminar:e.confirmarEliminar}})],1)],1)},staticRenderFns:[]},q=t("VU/8")($,F,!1,null,null,null).exports,A={name:"RealizarPago",props:["matricula"],data:function(){return{membresiaSeleccionada:{id:"",nombre:"",precio:"",duracion:""},fechaSeleccionada:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),membresias:[],cargando:!1}},mounted:function(){this.obtenerMembresias()},methods:{obtenerMembresias:function(){var e=this;_.obtenerConDatos({metodo:"get"},"membresias.php").then(function(a){e.membresias=a})},cerrarDialogo:function(){this.$emit("cerrar",!1)},realizarPago:function(){var e=this;if(this.membresiaSeleccionada){this.cargando=!0;var a={metodo:"pagar",pago:{matricula:this.matricula,pago:this.membresiaSeleccionada.precio,idMembresia:this.membresiaSeleccionada.id,duracion:this.membresiaSeleccionada.duracion,fecha:this.fechaSeleccionada,idUsuario:localStorage.getItem("idUsuario")}};_.registrar(a,"miembros.php").then(function(a){a&&(e.cargando=!1,e.$emit("pagado",a),console.log(a))}),console.log(a)}}}},T={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-card",[t("v-card-title",[t("span",{staticClass:"text-h5"},[e._v("Realizar pago para "+e._s(e.matricula))])]),e._v(" "),t("v-card-text",[t("v-container",[t("v-select",{attrs:{hint:e.membresiaSeleccionada.nombre+", "+e.membresiaSeleccionada.precio,items:e.membresias,"item-text":"nombre","item-value":"id",label:"Selecciona una membresía","persistent-hint":"","return-object":"","single-line":""},model:{value:e.membresiaSeleccionada,callback:function(a){e.membresiaSeleccionada=a},expression:"membresiaSeleccionada"}}),e._v(" "),t("v-row",{attrs:{justify:"center"}},[t("v-date-picker",{attrs:{"first-day-of-week":1,locale:"es-se"},model:{value:e.fechaSeleccionada,callback:function(a){e.fechaSeleccionada=a},expression:"fechaSeleccionada"}})],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v("\n        Cerrar\n      ")]),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.realizarPago}},[e._v("\n        Registrar\n      ")])],1)],1),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},staticRenderFns:[]},L=t("VU/8")(A,T,!1,null,null,null).exports,N=t("5OkI"),G=t.n(N),O=(new G.a,{name:"CredencialMiembro",props:["matricula","miembro"],data:function(){return{nombreGimnasio:"",logoGimnasio:"",telefonoGimnasio:"",direccionGimnasio:"",cssText:'\n         .nav{\n            margin-top: 10px;\n            columns: 10px 2;\n            column-gap: 0;\n\n        }\n        .credencial {\n            padding: 10px;\n            width: 300px;\n            height: 400px;\n            border: 1px  solid black;\n            text-align: center;\n            float: left;\n            background-image: linear-gradient(50deg, #c5d0fc 23.53%, #cbe0f2 23.53%, #cbe0f2 50%, #c5d0fc 50%, #c5d0fc 73.53%, #cbe0f2 73.53%, #cbe0f2 100%);\n            background-size: 300px 400px;\n            print-color-adjust: exact;\n            -webkit-print-color-adjust: exact;\n        }\n        .credencial > p{\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n\n        .nombre{ \n            font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;\n            font-size: 32px;\n            letter-spacing: -3.6px;\n            word-spacing: -1.4px;\n            color: #0824A1;\n            font-weight: 700;\n            text-decoration: none;\n            font-style: normal;\n            font-variant: normal;\n            text-transform: none;\n\n        }\n        \n        .matricula{\n            font-family: "Courier New", Courier, monospace;\n            font-size: 26px;\n            letter-spacing: -1.2px;\n            word-spacing: -5px;\n            color: #7C6D7D;\n            font-weight: 700;\n            text-decoration: none;\n            font-style: normal;\n            font-variant: small-caps;\n            text-transform: none;\n            \n        }\n\n        .imagen{\n            width: 80px;\n            height: 80px;\n            border-radius: 50%;\n            margin: 0 auto;\n            display: block;\n        }\n        '}},beforeMount:function(){this.nombreGimnasio=localStorage.getItem("nombreGimnasio"),this.logoGimnasio=localStorage.getItem("logoGimnasio"),this.telefonoGimnasio=localStorage.getItem("telefonoGimnasio"),this.direccionGimnasio=localStorage.getItem("direccionGimnasio")},mounted:function(){this.d=new G.a;var e=this.d.getIFrame().contentWindow;e.addEventListener("beforeprint",function(){return console.log("before print event!")}),e.addEventListener("afterprint",function(){return console.log("after print event!")}),this.imprimir()},methods:{urlImagen:function(e){return l.generarURL(e)},imprimir:function(){var e=this,a=document.getElementById("credencial");setTimeout(function(){return e.d.print(a,[e.cssText])},10),this.$emit("impreso",!1)}}}),B={render:function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",{attrs:{id:"credencial"}},[o("div",{staticClass:"credencial"},[o("div",{staticClass:"nav"},[o("div",[o("img",{attrs:{width:"50",src:e.urlImagen(e.logoGimnasio),alt:""}})]),e._v(" "),o("div",[o("b",[e._v(" "+e._s(e.nombreGimnasio))]),e._v(" "),o("p",{staticStyle:{"font-size":"10px"}},[e._v("Tel: "+e._s(e.telefonoGimnasio)+", "+e._s(e.direccionGimnasio)+" ")])])]),e._v(" "),o("p",{staticClass:"nombre"},[e._v(e._s(e.miembro.nombre))]),e._v(" "),o("p",{staticClass:"matricula"},[e._v(e._s(e.miembro.matricula))]),e._v(" "),o("img",{staticClass:"imagen",attrs:{src:e.urlImagen(e.miembro.imagen),alt:""}}),e._v(" "),o("p",[e._v("Teléfono: "),o("b",[e._v(e._s(e.miembro.telefono))])]),e._v(" "),o("p",[e._v("Dirección: "),o("b",[e._v(e._s(e.miembro.direccion))])]),e._v(" "),o("p",[e._v("Miembro desde: "),o("b",[e._v(e._s(e.miembro.fechaRegistro))])])]),e._v(" "),o("div",{staticClass:"credencial"},[o("b",[e._v("En caso de accidente, comunicarse con:")]),e._v(" "),o("p",[e._v("Nombre: "),o("b",[e._v(e._s(e.miembro.nombreContacto))])]),e._v(" "),o("p",[e._v("Teléfono: "),o("b",[e._v(e._s(e.miembro.telefonoContacto))])]),e._v(" "),o("p",[e._v("Enfermedad(es): "),o("b",[e._v(e._s(e.miembro.enfermedad))])]),e._v(" "),o("p",[e._v("Tiene seguro en: "),o("b",[e._v(e._s(e.miembro.institucion))])]),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("pre",[e._v("Sistema para gimnasio por")]),e._v(" "),o("img",{attrs:{src:t("7Otq"),width:"200",alt:"LOGOOOO"}})])])},staticRenderFns:[]};var H=t("VU/8")(O,B,!1,function(e){t("reXA")},null,null).exports,K={name:"Miembros",components:{RealizarPago:L,DialogoEliminar:z,CredencialMiembro:H},data:function(){return{encabezadoTabla:[{text:"Imagen",align:"start",sortable:!1,value:"imagen"},{text:"Matrícula",sortable:!0,value:"matricula"},{text:"Nombre",sortable:!0,value:"nombre"},{text:"Teléfono",sortable:!1,value:"telefono"},{text:"Estado",sortable:!0,value:"estado"},{text:"Inicio membresía",sortable:!0,value:"fechaInicio"},{text:"Fin membresía",sortable:!0,value:"fechaFin"},{text:"Membresía",sortable:!0,value:"membresia"},{text:"Opciones",value:"opciones",sortable:!1}],cargando:!1,mostrarMensaje:!1,mensaje:{color:"",texto:""},miembros:[],matriculaSeleccionada:"",mostrarRealizarPago:!1,itemSeleccionado:null,miembro:null,mostrarDialogoEliminar:!1,mostrarCredencial:!1}},mounted:function(){this.obtenerMiembros()},methods:{generarCredencial:function(e){this.matriculaSeleccionada=e.matricula,this.miembro=e,this.mostrarCredencial=!0},onImpreso:function(e){this.mostrarCredencial=e},eliminar:function(e){this.itemSeleccionado=e.nombre,this.miembro=e,this.mostrarDialogoEliminar=!0},cerrarDialogoEliminar:function(){this.mostrarDialogoEliminar=!1,this.miembro=null},confirmarEliminar:function(){var e=this;this.cargando=!0;var a={metodo:"eliminar",id:this.miembro.id};_.eliminar("miembros.php",a).then(function(a){a&&(e.mostrarDialogoEliminar=!1,e.mostrarMensaje=!0,e.mensaje.texto="Miembro eliminado",e.mensaje.color="success",e.cargando=!1,e.obtenerMiembros())})},editar:function(e){this.$router.push({name:"EditarMiembro",params:{id:e}})},urlImagen:function(e){return l.generarURL(e)},cerrarDialogoPago:function(e){this.mostrarRealizarPago=e},realizarPago:function(e){this.matriculaSeleccionada=e,this.mostrarRealizarPago=!0},onPagado:function(e){e&&(this.mostrarRealizarPago=!1,this.mostrarMensaje=!0,this.mensaje={color:"success",texto:"Pago realizado con éxito"},this.obtenerMiembros())},obtenerMiembros:function(){var e=this;this.cargando=!0;_.obtenerConDatos({metodo:"get"},"miembros.php").then(function(a){e.miembros=a,e.cargando=!1})},estado:function(e){return"ACTIVO"===e?"success":"VENCIDO"===e?"error":"warning"}}},Y={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Miembros")]),e._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.miembros,"item-key":"matricula","show-expand":"","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.imagen",fn:function(a){var o=a.item;return[t("v-avatar",[t("img",{attrs:{src:e.urlImagen(o.imagen),alt:"Foto"}})])]}},{key:"item.estado",fn:function(a){var o=a.item;return[t("v-chip",{staticClass:"ma-2",attrs:{color:e.estado(o.estado),"text-color":"white"}},[e._v("\n        "+e._s(o.estado)+"\n        "),o.estado?e._e():t("span",[e._v("SIN MEMBRESÍA")])])]}},{key:"item.opciones",fn:function(a){var o=a.item;return[t("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[t("v-btn",e._g(e._b({attrs:{color:"primary",small:"",fab:"",dark:""},on:{click:function(a){return e.editar(o.id)}}},"v-btn",s,!1),r),[t("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Editar")])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"",color:"error"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[t("v-btn",e._g(e._b({attrs:{color:"error",small:"",fab:"",dark:""},on:{click:function(a){return e.eliminar(o)}}},"v-btn",s,!1),r),[t("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Eliminar")])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[t("v-btn",e._g(e._b({attrs:{color:"secondary",small:"",fab:"",dark:""},on:{click:function(a){return e.generarCredencial(o)}}},"v-btn",s,!1),r),[t("v-icon",[e._v("mdi-card-account-details")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Generar credencial")])]),e._v(" "),o.estado&&"VENCIDO"!==o.estado?e._e():t("v-tooltip",{attrs:{bottom:"",color:"success"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[t("v-btn",e._g(e._b({attrs:{color:"success",small:"",fab:"",dark:""},on:{click:function(a){return e.realizarPago(o.matricula)}}},"v-btn",s,!1),r),[t("v-icon",[e._v("mdi-wallet-membership")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Realizar pago")])])]}},{key:"expanded-item",fn:function(a){var o=a.headers,r=a.item;return[t("td",{attrs:{colspan:o.length}},[e._v("\n        Más información de "),t("b",[e._v(e._s(r.nombre))]),e._v(" "),t("v-simple-table",{attrs:{height:"200px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",[t("tr",[t("td",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-map-marker ")]),e._v(" "),t("b",[e._v("Dirección: ")]),e._v(e._s(r.direccion)+" ")],1)]),e._v(" "),t("tr",[t("td",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-calendar ")]),e._v(" "),t("b",[e._v("Miembro desde: ")]),e._v(e._s(r.fechaRegistro)+" ")],1)]),e._v(" "),t("tr",[t("td",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-calendar-account ")]),e._v(" "),t("b",[e._v("Edad: ")]),e._v(e._s(r.edad)+" ")],1)]),e._v(" "),t("tr",[t("td",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-account ")]),e._v(" "),t("b",[e._v("En accidente comunicarse con: ")]),e._v(e._s(r.nombreContacto)+", "),t("b",[e._v("Teléfono:")]),e._v(" "+e._s(r.telefonoContacto))],1)]),e._v(" "),t("tr",[t("td",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-mother-heart ")]),e._v(" "),t("b",[e._v("Enfermedades crónicas: ")]),e._v(e._s(r.enfermedad)+" ")],1)]),e._v(" "),t("tr",[t("td",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-hospital-building ")]),e._v(" "),t("b",[e._v("Seguro en : ")]),e._v(e._s(r.institucion)+" ")],1)])])]},proxy:!0}],null,!0)})],1)]}}],null,!0)}),e._v(" "),t("v-btn",{attrs:{fab:"",dark:"","x-large":"",elevation:"8",color:"primary",fixed:"",right:"",bottom:"",to:"/nuevo-miembro"}},[t("v-icon",{attrs:{dark:""}},[e._v("add")])],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(a){e.mostrarRealizarPago=a},expression:"mostrarRealizarPago"}},[t("realizar-pago",{attrs:{matricula:e.matriculaSeleccionada},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),t("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.mostrarDialogoEliminar,callback:function(a){e.mostrarDialogoEliminar=a},expression:"mostrarDialogoEliminar"}},[t("dialogo-eliminar",{attrs:{nombre:e.itemSeleccionado},on:{cancelar:e.cerrarDialogoEliminar,eliminar:e.confirmarEliminar}})],1),e._v(" "),e.mostrarCredencial?t("credencial-miembro",{attrs:{matricula:e.matriculaSeleccionada,miembro:e.miembro},on:{impreso:e.onImpreso}}):e._e(),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")]),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{size:"64"}})],1)],1)},staticRenderFns:[]};var W=t("VU/8")(K,Y,!1,function(e){t("zR90")},null,null).exports,J=t("Dd8w"),X=t.n(J),Z={name:"FormMiembro",props:["miembro"],data:function(){return{formDatosPersonales:!1,formDatosContacto:!1,reglasForm:[function(e){return!!e||"Debes colocar este campo."}],reglaImagen:[function(e){return!e||e.size<5e6||"La foto debe pesar menos de 5 MB!"}],e6:1,imagen:null,imagenUrl:null,datosPersonales:{nombre:"",telefono:"",direccion:"",edad:10},datosContacto:{sufreEnfermedad:!1,tieneSeguro:!1,enfermedad:"",institucion:"",nombreContacto:"",telefonoContacto:""}}},mounted:function(){this.formDatosPersonales=!1,this.formDatosContacto=!1},methods:{registrar:function(){var e=X()({},this.datosPersonales,this.datosContacto,{imagen:this.imagenUrl});this.$emit("registrado",e),console.log(e),this.formDatosPersonales=!1,this.formDatosContacto=!1,this.e6=1,this.imagen=null,this.imagenUrl=null,this.datosPersonales={nombre:"",telefono:"",direccion:"",edad:10},this.datosContacto={sufreEnfermedad:!1,tieneSeguro:!1,enfermedad:"",institucion:"",nombreContacto:"",telefonoContacto:""}},crearImagen:function(e){var a=this,t=new FileReader;t.onload=function(e){a.imagenUrl=e.target.result},t.readAsDataURL(e)},onSeleccionarImagen:function(){this.imagen&&this.crearImagen(this.imagen)}},watch:{miembro:{deep:!0,handler:function(){this.datosPersonales=this.miembro.datosPersonales,this.datosContacto=this.miembro.datosContacto,this.imagenUrl=l.generarURL(this.miembro.imagen)}}}},Q={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(a){e.e6=a},expression:"e6"}},[t("v-stepper-step",{attrs:{complete:e.e6>1,step:"1"}},[e._v("\n      Datos personales\n      "),t("small",[e._v("Escribe los datos del miembro")])]),e._v(" "),t("v-stepper-content",{attrs:{step:"1"}},[t("v-form",{ref:"form",model:{value:e.formDatosPersonales,callback:function(a){e.formDatosPersonales=a},expression:"formDatosPersonales"}},[t("v-card",{staticClass:"mb-12"},[t("v-text-field",{attrs:{label:"Nombre completo",rules:e.reglasForm},model:{value:e.datosPersonales.nombre,callback:function(a){e.$set(e.datosPersonales,"nombre",a)},expression:"datosPersonales.nombre"}}),e._v(" "),t("v-text-field",{attrs:{label:"Teléfono",rules:e.reglasForm},model:{value:e.datosPersonales.telefono,callback:function(a){e.$set(e.datosPersonales,"telefono",a)},expression:"datosPersonales.telefono"}}),e._v(" "),t("v-text-field",{attrs:{label:"Dirección",rules:e.reglasForm},model:{value:e.datosPersonales.direccion,callback:function(a){e.$set(e.datosPersonales,"direccion",a)},expression:"datosPersonales.direccion"}}),e._v(" "),t("v-text-field",{attrs:{label:"Edad",rules:e.reglasForm},model:{value:e.datosPersonales.edad,callback:function(a){e.$set(e.datosPersonales,"edad",a)},expression:"datosPersonales.edad"}})],1),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.formDatosPersonales},on:{click:function(a){e.e6=2}}},[e._v("\n          Continuar\n        ")]),e._v(" "),t("v-btn",{attrs:{text:"",to:"/miembros"}},[e._v(" Cancelar ")])],1)],1),e._v(" "),t("v-stepper-step",{attrs:{complete:e.e6>2,step:"2"}},[e._v("\n      Datos de contacto\n      "),t("small",[e._v("Escribe los siguientes datos en caso de que algun accidente\n        ocurra")])]),e._v(" "),t("v-stepper-content",{attrs:{step:"2"}},[t("v-form",{ref:"form",model:{value:e.formDatosContacto,callback:function(a){e.formDatosContacto=a},expression:"formDatosContacto"}},[t("v-card",{staticClass:"mb-12"},[t("v-switch",{attrs:{label:"¿Sufre alguna enfermedad crónica?"},model:{value:e.datosContacto.sufreEnfermedad,callback:function(a){e.$set(e.datosContacto,"sufreEnfermedad",a)},expression:"datosContacto.sufreEnfermedad"}}),e._v(" "),e.datosContacto.sufreEnfermedad?t("v-text-field",{attrs:{label:"Escribe las enfermedades"},model:{value:e.datosContacto.enfermedad,callback:function(a){e.$set(e.datosContacto,"enfermedad",a)},expression:"datosContacto.enfermedad"}}):e._e(),e._v(" "),t("v-switch",{attrs:{label:"¿Tiene seguro?"},model:{value:e.datosContacto.tieneSeguro,callback:function(a){e.$set(e.datosContacto,"tieneSeguro",a)},expression:"datosContacto.tieneSeguro"}}),e._v(" "),e.datosContacto.tieneSeguro?t("v-text-field",{attrs:{label:"Escribe las institución de seguro"},model:{value:e.datosContacto.institucion,callback:function(a){e.$set(e.datosContacto,"institucion",a)},expression:"datosContacto.institucion"}}):e._e(),e._v(" "),t("v-text-field",{attrs:{label:"Nombre completo de contacto",rules:e.reglasForm},model:{value:e.datosContacto.nombreContacto,callback:function(a){e.$set(e.datosContacto,"nombreContacto",a)},expression:"datosContacto.nombreContacto"}}),e._v(" "),t("v-text-field",{attrs:{label:"Teléfono",rules:e.reglasForm},model:{value:e.datosContacto.telefonoContacto,callback:function(a){e.$set(e.datosContacto,"telefonoContacto",a)},expression:"datosContacto.telefonoContacto"}})],1),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.formDatosContacto},on:{click:function(a){e.e6=3}}},[e._v("\n          Continuar\n        ")]),e._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(a){e.e6=1}}},[e._v(" Regresar ")])],1)],1),e._v(" "),t("v-stepper-step",{attrs:{complete:e.e6>3,step:"3"}},[e._v("\n      Foto\n      "),t("small",[e._v("Escoge alguna foto del miembro")])]),e._v(" "),t("v-stepper-content",{attrs:{step:"3"}},[t("v-card",{staticClass:"mb-12"},[t("v-file-input",{attrs:{rules:e.reglaImagen,accept:"image/png, image/jpeg, image/bmp",placeholder:"Selecciona una imagen","prepend-icon":"mdi-camera",label:"Foto",type:"file"},on:{change:e.onSeleccionarImagen},model:{value:e.imagen,callback:function(a){e.imagen=a},expression:"imagen"}}),e._v(" "),t("div",{staticClass:"d-flex flex-column justify-space-between align-center"},[t("img",{attrs:{src:e.imagenUrl,alt:"","aspect-ratio":"16/9",width:"300"}})]),e._v(" "),t("v-card-actions",{staticClass:"justify-center"},[t("v-btn",{attrs:{color:"primary","x-large":""},on:{click:e.registrar}},[e._v(" Registrar ")]),e._v(" "),t("v-btn",{attrs:{text:"","x-large":""},on:{click:function(a){e.e6=2}}},[e._v(" Regresar ")])],1)],1)],1)],1)],1)},staticRenderFns:[]},ee=t("VU/8")(Z,Q,!1,null,null,null).exports,ae={name:"EditarMiembro",components:{FormMiembro:ee},data:function(){return{cargando:!1,datosMiembro:{datosPersonales:null,datosContacto:null},mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){var e=this;this.cargando=!0;var a={metodo:"obtener_id",id:this.$route.params.id};_.obtenerConDatos(a,"miembros.php").then(function(a){e.datosMiembro.datosPersonales={nombre:a.nombre,telefono:a.telefono,direccion:a.direccion,edad:a.edad},e.datosMiembro.datosContacto={sufreEnfermedad:a.sufreEnfermedad,tieneSeguro:a.tieneSeguro,enfermedad:a.enfermedad,institucion:a.institucion,nombreContacto:a.nombreContacto,telefonoContacto:a.telefonoContacto},e.datosMiembro.imagen=a.imagen,e.cargando=!1})},methods:{onEditar:function(e){var a=this,t=e.imagen.includes("data:image");t||(e.imagen=e.imagen.split("api/")[1]),e.imagenCambia=t,e.id=this.$route.params.id,this.cargando=!0;var o={metodo:"editar",miembro:e};_.registrar(o,"miembros.php").then(function(e){e&&(a.mostrarMensaje=!0,a.mensaje.texto="Información de miembro actualizada",a.mensaje.color="success",setTimeout(function(){return a.$router.push({name:"Miembros"})},1e3),a.cargando=!1)})}}},te={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Editar miembro")]),e._v(" "),t("form-miembro",{attrs:{miembro:e.datosMiembro},on:{registrado:e.onEditar}}),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")]),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{size:"64"}})],1)],1)},staticRenderFns:[]},oe=t("VU/8")(ae,te,!1,null,null,null).exports,re={name:"Usuarios",components:{DialogoEliminar:z},data:function(){return{cargando:!1,mostrarDialogoEliminar:!1,usuario:{},usuarios:[],encabezadoTabla:[{text:"Usuario",sortable:!0,value:"usuario"},{text:"Nombre",sortable:!0,value:"nombre"},{text:"telefono",value:"telefono"},{text:"Opciones",value:"opciones",sortable:!1}],itemSeleccionado:"",mensaje:{texto:"",color:""},mostrarMensaje:!1}},mounted:function(){this.obtenerUsuarios()},methods:{editar:function(e){this.$router.push({name:"EditarUsuario",params:{id:e}})},eliminar:function(e){this.itemSeleccionado=e.nombre,this.usuario=e,this.mostrarDialogoEliminar=!0},cerrarDialogoEliminar:function(){this.mostrarDialogoEliminar=!1,this.usuario={}},confirmarEliminar:function(){var e=this;this.cargando=!0;var a={metodo:"delete",id:this.usuario.id};_.eliminar("usuarios.php",a).then(function(a){a&&(e.mostrarDialogoEliminar=!1,e.mostrarMensaje=!0,e.mensaje.texto="Usuario eliminado",e.mensaje.color="success",e.cargando=!1,e.obtenerUsuarios())})},obtenerUsuarios:function(){var e=this;this.cargando=!0;_.obtenerConDatos({metodo:"get"},"usuarios.php").then(function(a){e.usuarios=a,e.cargando=!1})}}},se={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Usuarios")]),e._v(" "),t("v-btn",{attrs:{fab:"",dark:"","x-large":"",elevation:"8",color:"primary",fixed:"",right:"",bottom:"",to:"/nuevo-usuario"}},[t("v-icon",{attrs:{dark:""}},[e._v("add")])],1),e._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.usuarios,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.opciones",fn:function(a){var o=a.item;return[t("v-icon",{staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(a){return e.editar(o.id)}}},[e._v("\n            mdi-pencil\n        ")]),e._v(" "),t("v-icon",{attrs:{color:"red"},on:{click:function(a){return e.eliminar(o)}}},[e._v("\n            mdi-delete\n        ")])]}}],null,!0)}),e._v(" "),t("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.mostrarDialogoEliminar,callback:function(a){e.mostrarDialogoEliminar=a},expression:"mostrarDialogoEliminar"}},[t("dialogo-eliminar",{attrs:{nombre:e.itemSeleccionado},on:{cancelar:e.cerrarDialogoEliminar,eliminar:e.confirmarEliminar}})],1),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")])],1)},staticRenderFns:[]},ne=t("VU/8")(re,se,!1,null,null,null).exports,ie={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[t("v-icon",[e._v("mdi-forward")])]},proxy:!0}])})},staticRenderFns:[]},le={name:"NuevoMiembro",components:{FormMiembro:ee,Breadcrumbs:t("VU/8")({name:"Breadcrumbs",props:["items"]},ie,!1,null,null,null).exports,RealizarPago:L,CredencialMiembro:H},data:function(){return{mostrarMensaje:!1,mensaje:{color:"",texto:""},miembro:{},mostrarMiembroRegistrado:!1,mostrarRealizarPago:!1,mostrarCredencial:!1,matricula:"",cargando:!1,datosMiembro:{datosPersonales:{nombre:"",telefono:"",direccion:"",edad:10},datosContacto:{sufreEnfermedad:!1,tieneSeguro:!1,enfermedad:"",institucion:"",nombreContacto:"",telefonoContacto:""},imagen:null}}},methods:{generarCredencial:function(){var e=this;_.obtenerConDatos({metodo:"obtener_imagen",matricula:this.matricula},"miembros.php").then(function(a){e.miembro.imagen=a.imagen,e.miembro.fechaRegistro=(new Date).toLocaleDateString(),e.mostrarCredencial=!0})},onImpreso:function(e){this.mostrarCredencial=e},onRegistrado:function(e){var a=this;this.miembro=e;var t={metodo:"registrar",miembro:this.miembro};console.log(this.miembro),this.cargando=!0,_.registrar(t,"miembros.php").then(function(e){console.log(e),e&&(a.matricula=e,a.mostrarMiembroRegistrado=!0,a.cargando=!1)})},realizarPago:function(){this.mostrarMiembroRegistrado=!1,this.mostrarRealizarPago=!0},onPagado:function(e){e&&(this.mostrarRealizarPago=!1,this.mostrarMensaje=!0,this.mensaje={color:"success",texto:"Pago realizado con éxito"})},cerrarDialogoPago:function(e){this.mostrarRealizarPago=e}}},ce={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Registrar miembro")]),e._v(" "),t("breadcrumbs",{attrs:{items:[{text:"Inicio",href:"/"},{text:"Miembros",href:"/#/miembros"}]}}),e._v(" "),t("form-miembro",{attrs:{miembro:e.datosMiembro},on:{registrado:e.onRegistrado}}),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarMiembroRegistrado,callback:function(a){e.mostrarMiembroRegistrado=a},expression:"mostrarMiembroRegistrado"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v(" Miembro registrado ")]),e._v(" "),t("v-card-text",[e._v("\n        El miembro ha sido registrado con la matricula "+e._s(e.matricula)+". Puedes\n        pagar la membresía en este momento o en la primera visita.\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.generarCredencial}},[e._v("\n          Generar credencial\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.realizarPago}},[e._v("\n          Realizar pago\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(a){e.mostrarMiembroRegistrado=!1}}},[e._v("\n          Salir\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(a){e.mostrarRealizarPago=a},expression:"mostrarRealizarPago"}},[t("realizar-pago",{attrs:{matricula:e.matricula},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),e.mostrarCredencial?t("credencial-miembro",{attrs:{matricula:e.matricula,miembro:e.miembro},on:{impreso:e.onImpreso}}):e._e(),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{size:"64"}})],1),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")])],1)},staticRenderFns:[]},me=t("VU/8")(le,ce,!1,null,null,null).exports,ue={name:"FormUsuario",props:["usuario"],data:function(){return{formValido:!1,formHasErrors:!1,reglas:[function(e){return!!e||"Debes colocar este campo."}]}},mounted:function(){this.formValido=!1},methods:{registrar:function(){var e=this;this.formHasErrors=!1,s()(this.form).forEach(function(a){e.form[a]||(e.formHasErrors=!0)}),this.$emit("registrado",this.usuario),this.formValido=!1}},computed:{form:function(){return{usuario:this.usuario.usuario,nombre:this.usuario.nombre,telefono:this.usuario.telefono}}}},de={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-form",{ref:"form",model:{value:e.formValido,callback:function(a){e.formValido=a},expression:"formValido"}},[t("v-card",{staticClass:"mx-auto",attrs:{elevation:"5"}},[t("v-card-text",[t("v-text-field",{attrs:{label:"Nombre de usuario",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.usuario.usuario,callback:function(a){e.$set(e.usuario,"usuario",a)},expression:"usuario.usuario"}}),e._v(" "),t("v-text-field",{attrs:{label:"Nombre completo",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.usuario.nombre,callback:function(a){e.$set(e.usuario,"nombre",a)},expression:"usuario.nombre"}}),e._v(" "),t("v-text-field",{attrs:{label:"Teléfono",rules:e.reglas,required:"","hide-details":"auto"},model:{value:e.usuario.telefono,callback:function(a){e.$set(e.usuario,"telefono",a)},expression:"usuario.telefono"}})],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{text:""},on:{click:function(a){return e.$router.push({name:"Usuarios"})}}},[e._v(" Cancelar ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary",text:"",disabled:!e.formValido},on:{click:e.registrar}},[e._v("\n          Registrar\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},ve=t("VU/8")(ue,de,!1,null,null,null).exports,ge={name:"NuevoUsuario",components:{FormUsuario:ve},data:function(){return{cargando:!1,usuario:{usuario:"",nombre:"",telefono:""},mostrarMensaje:!1,mensaje:{texto:"",color:""}}},methods:{onRegistrado:function(e){var a=this;this.cargando=!0,this.usuario=e,console.log(this.usuario);var t={metodo:"registrar",usuario:this.usuario};_.registrar(t,"usuarios.php").then(function(e){e&&(a.mostrarMensaje=!0,a.mensaje.texto="Usuario registrado",a.mensaje.color="success",a.cargando=!1,a.usuario={usuario:"",nombre:"",telefono:""})})}}},be={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-progress-linear",{attrs:{active:e.cargando,indeterminate:e.cargando,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")]),e._v(" "),t("h1",[e._v("Registrar usuario")]),e._v(" "),t("form-usuario",{attrs:{usuario:e.usuario},on:{registrado:e.onRegistrado}})],1)},staticRenderFns:[]},fe=t("VU/8")(ge,be,!1,null,null,null).exports,pe={name:"EditarUsuario",components:{FormUsuario:ve},data:function(){return{cargando:!1,usuario:{},mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){var e=this;this.cargando=!0;var a={metodo:"un_usuario",id:this.$route.params.id};_.obtenerConDatos(a,"usuarios.php").then(function(a){e.usuario=a,e.cargando=!1})},methods:{onRegistrado:function(e){var a=this;this.cargando=!0,this.usuario=e;var t={metodo:"put",usuario:this.usuario};_.registrar(t,"usuarios.php").then(function(e){e&&(a.mostrarMensaje=!0,a.mensaje.texto="Información de usuario actualizada",a.mensaje.color="success",setTimeout(function(){return a.$router.push({name:"Usuarios"})},1e3),a.cargando=!1)})}}},he={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Editar usuario")]),e._v(" "),t("form-usuario",{attrs:{usuario:e.usuario},on:{registrado:e.onRegistrado}}),e._v(" "),t("v-progress-linear",{attrs:{active:e.cargando,indeterminate:e.cargando,absolute:"",top:"",color:"deep-purple accent-4"}}),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n        "+e._s(e.mensaje.texto)+"\n    ")])],1)},staticRenderFns:[]},_e=t("VU/8")(pe,he,!1,null,null,null).exports,xe={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.fechas,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(a){e.fechas=a},"update:return-value":function(a){e.fechas=a}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on,r=a.attrs;return[t("v-text-field",e._g(e._b({attrs:{label:"Selecciona un periodo","prepend-icon":"mdi-calendar","first-day-of-week":1,locale:"es-se"},model:{value:e.fechas,callback:function(a){e.fechas=a},expression:"fechas"}},"v-text-field",r,!1),o))]}}]),model:{value:e.menu,callback:function(a){e.menu=a},expression:"menu"}},[e._v(" "),t("v-date-picker",{attrs:{range:"","no-title":"",scrollable:""},model:{value:e.fechas,callback:function(a){e.fechas=a},expression:"fechas"}},[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){e.menu=!1}}},[e._v(" Cancelar ")]),e._v(" "),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.buscar}},[e._v(" Buscar ")])],1)],1)},staticRenderFns:[]},Ce=t("VU/8")({name:"PeriodoBusqueda",data:function(){return{fechas:[],menu:!1}},methods:{buscar:function(){this.$emit("buscar",this.fechas),this.menu=!1}}},xe,!1,null,null,null).exports,ke={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("p",{staticClass:"display-1"},[e._v(e._s(e.titulo))]),e._v(" "),t("div",{staticClass:"row"},e._l(e.totales,function(a,o){return t("div",{key:o,staticClass:"col-sm-6 col-lg-3 col-12"},[t("div",{staticClass:"v-card--material pa-3 v-card--material-stats v-card v-sheet theme--light v-card--material--has-heading"},[t("div",{staticClass:"d-flex grow flex-wrap"},[t("div",{staticClass:"text-start v-card--material__heading mb-n6 v-sheet  elevation-6  pa-7",class:e.color,staticStyle:{"max-height":"70px",width:"auto"}},[t("v-icon",{attrs:{large:"",color:"white"}},[e._v("\n                    "+e._s(e.icono)+"\n                    ")])],1),e._v(" "),t("div",{staticClass:"ml-6"},[t("div",{staticClass:"ml-auto text-right"},[t("div",{staticClass:"body-3 grey--text font-weight-light"},[e._v("\n                            "+e._s(a.nombre)+"\n                        ")]),e._v(" "),t("h3",{staticClass:"display-1 font-weight-light text--primary"},[e._v(e._s(a.total)+"\n                            "),t("small")])])])])])])}),0)])},staticRenderFns:[]},Me=t("VU/8")({name:"CartasTotales",props:["totales","titulo","icono","color"]},ke,!1,null,null,null).exports,Pe={name:"CartasTotalesMiembros",props:["totales","titulo"],data:function(){return{numeroMayor:0}},mounted:function(){this.numeroMayor=this.totales[0].total},methods:{urlImagen:function(e){return l.generarURL(e)},numeroEstrellas:function(e){return parseFloat(5*e/this.numeroMayor)}}},we={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("p",{staticClass:"display-1"},[e._v(e._s(e.titulo))]),e._v(" "),t("div",{staticClass:"row"},e._l(e.totales,function(a,o){return t("div",{key:o,staticClass:"col-sm-6 col-lg-3 col-12"},[t("div",{staticClass:"v-card--material pa-3 v-card--material-stats v-card v-sheet theme--light v-card--material--has-heading"},[t("div",{staticClass:"d-flex grow flex-wrap"},[t("v-avatar",{attrs:{size:"90"}},[t("v-img",{attrs:{src:e.urlImagen(a.imagen)}})],1),e._v(" "),t("div",{staticClass:"ml-6"},[t("div",{staticClass:"ml-auto text-right"},[t("div",{staticClass:"body-3 grey--text font-weight-light"},[e._v("\n                            "+e._s(a.nombre)+"\n                            "),t("br"),e._v(" "),t("small",[e._v(e._s(a.matricula))])]),e._v(" "),t("h3",{staticClass:"display-1 font-weight-light text--primary"},[e._v(e._s(a.total)+"\n                            "),t("small")])])])],1),e._v(" "),e._m(0,!0),e._v(" "),t("v-rating",{attrs:{color:"warning",value:e.numeroEstrellas(a.total),"half-increments":"",readonly:""}})],1)])}),0)])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"px-0 col col-12"},[a("hr",{staticClass:"v-divider theme--light",attrs:{role:"separator","aria-orientation":"horizontal"}})])}]},je=t("VU/8")(Pe,we,!1,null,null,null).exports,ye={name:"Pagos",components:{PeriodoBusqueda:Ce,CartasTotales:Me,CartasTotalesMiembros:je},data:function(){return{busqueda:"",cargando:!1,pagos:[],encabezadoTabla:[{text:"Imagen",sortable:!0,value:"imagen"},{text:"Miembro",sortable:!0,value:"nombre"},{text:"Matrícula",sortable:!0,value:"matricula"},{text:"Fecha",sortable:!0,value:"fecha"},{text:"Monto pagado",sortable:!0,value:"monto"},{text:"Membresía pagada",sortable:!0,value:"membresia"},{text:"Cobró",sortable:!0,value:"usuario"}],filtros:{fechaInicio:null,fechaFin:null},totalPagos:0,totalesMembresias:[],totalesUsuarios:[],totalesMiembros:[]}},mounted:function(){this.obtenerPagos()},methods:{onBuscar:function(e){console.log(e),this.filtros={fechaInicio:e[0],fechaFin:e[1]},this.obtenerPagos()},urlImagen:function(e){return l.generarURL(e)},obtenerPagos:function(){var e=this;this.cargando=!0;var a={metodo:"obtener",filtros:this.filtros};_.obtenerConDatos(a,"pagos.php").then(function(a){e.pagos=a.pagos,e.totalPagos=a.totalPagos,e.totalesMembresias=a.totalesMembresias,e.totalesUsuarios=a.totalesUsuario,e.totalesMiembros=a.totalesMiembros,console.log(a),e.cargando=!1})}}},Re={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Pagos "),t("span",{staticClass:"indigo--text display-1"},[e._v(" $"+e._s(e.totalPagos))])]),e._v(" "),t("periodo-busqueda",{on:{buscar:e.onBuscar}}),e._v(" "),e.pagos.length>0?t("cartas-totales",{attrs:{totales:e.totalesMembresias,titulo:"Pagos realizados por membresía",icono:"mdi-currency-usd",color:"deep-orange darken-1"}}):e._e(),e._v(" "),t("v-card",{staticClass:"mt-3"},[t("v-card-title",[e._v("\n            Pagos realizados: \n            "),e.filtros.fechaInicio?e._e():t("b",[e._v(" hoy")]),e._v(" "),e.filtros.fechaInicio?t("b",[e._v(" "+e._s(e.filtros.fechaInicio)+" al "+e._s(e.filtros.fechaFin))]):e._e(),e._v(" "),t("v-spacer"),e._v(" "),t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(a){e.busqueda=a},expression:"busqueda"}})],1),e._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.pagos,search:e.busqueda,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.imagen",fn:function(a){var o=a.item;return[o.imagen?t("v-avatar",[t("img",{attrs:{src:e.urlImagen(o.imagen),alt:"Foto"}})]):e._e()]}}],null,!0)},[e._v(" "),t("template",{slot:"no-data"},[t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                    No se han encontrado datos :(\n                ")])],1)],2)],1),e._v(" "),e.pagos.length>0?t("cartas-totales",{staticClass:"mt-3",attrs:{totales:e.totalesUsuarios,titulo:"Pagos realizados por usuario",icono:"mdi-account-cash",color:"green darken-3"}}):e._e(),e._v(" "),e.pagos.length>0?t("cartas-totales-miembros",{staticClass:"mt-3",attrs:{totales:e.totalesMiembros,titulo:"Pagos realizados por miembros"}}):e._e(),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},staticRenderFns:[]},Se=t("VU/8")(ye,Re,!1,null,null,null).exports,Ve={name:"BusquedaMiembro",data:function(){return{cargando:!1,busqueda:"",miembros:[],miembroSeleccionado:{}}},methods:{urlImagen:function(e){return l.generarURL(e)},buscarMiembros:function(e){var a=this;if(e.data){this.busqueda+=e.data;var t={metodo:"obtener_nombre_matricula",busqueda:this.busqueda};this.cargando=!0,_.obtenerConDatos(t,"miembros.php").then(function(e){a.miembros=e,a.cargando=!1})}this.busqueda=""},customFilter:function(e,a,t){var o=e.nombre.toLowerCase(),r=e.matricula.toString(),s=a.toLowerCase();return o.indexOf(s)>-1||r.indexOf(s)>-1}},watch:{miembroSeleccionado:function(e){this.$emit("seleccionado",e)}}},De={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-card",[t("v-card-text",[t("v-autocomplete",{attrs:{items:e.miembros,filter:e.customFilter,color:"indigo",loading:e.cargando,"item-text":"nombre","item-value":"id",clearable:"",label:"Escribe el nombre o la matrícula del miembro","return-object":""},nativeOn:{input:function(a){return e.buscarMiembros.apply(null,arguments)}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"px-4"},[e._v("\n            No se encontraron resultados con "+e._s(e.busqueda)+"\n          ")])]},proxy:!0},{key:"item",fn:function(a){return["object"!=typeof a.item?[t("v-list-item-content",{domProps:{textContent:e._s(a.item)}})]:[t("v-list-item-avatar",[t("img",{attrs:{src:e.urlImagen(a.item.imagen)}})]),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{domProps:{innerHTML:e._s(a.item.nombre)}}),e._v(" "),t("v-list-item-subtitle",{domProps:{innerHTML:e._s(a.item.matricula)}})],1)]]}}]),model:{value:e.miembroSeleccionado,callback:function(a){e.miembroSeleccionado=a},expression:"miembroSeleccionado"}})],1)],1)],1)},staticRenderFns:[]},Ee={name:"RegistrarVisita",components:{BusquedaMiembro:t("VU/8")(Ve,De,!1,null,null,null).exports,RealizarPago:L},data:function(){return{miembro:null,mostrarRegistrarVisita:!1,mostrarRealizarPago:!1,mostrarDialogoRegular:!1,cargando:!1,mensaje:{},mostrarMensaje:!1,matricula:"",pagoVisita:""}},methods:{registrarVisitaRegular:function(){var e=this;this.pagoVisita&&(console.log(this.pagoVisita),this.cargando=!0,_.registrar({metodo:"registrar_regular",visita:{idUsuario:localStorage.getItem("idUsuario"),pago:this.pagoVisita}},"visitas.php").then(function(a){a&&(e.cargando=!1,e.mostrarDialogoRegular=!1,e.mostrarMensaje=!0,e.mensaje={texto:"Visita regular registrar",color:"success"})}))},abrirRealizarPago:function(){this.matricula=this.miembro.matricula,this.mostrarRealizarPago=!0},onPagado:function(e){e&&(this.mostrarRealizarPago=!1,this.mostrarMensaje=!0,this.mensaje={color:"success",texto:"Pago realizado con éxito, Ahora puedes registrar la visita"},this.miembro=null)},cerrarDialogoPago:function(){this.mostrarRealizarPago=!1},cerrarDialogo:function(){this.mostrarRegistrarVisita=!1},registrar:function(){var e=this;this.cargando=!0;var a={metodo:"registrar",visita:{idMiembro:this.miembro.id,idMembresia:this.miembro.idMembresia,idUsuario:localStorage.getItem("idUsuario")}};_.registrar(a,"visitas.php").then(function(a){a&&(e.mostrarMensaje=!0,e.mensaje={texto:"Visita registrada",color:"success"},e.miembro=null,e.mostrarRegistrarVisita=!1,e.cargando=!1)})},abrirRegistrarVisita:function(){this.mostrarRegistrarVisita=!0},urlImagen:function(e){return l.generarURL(e)},onMiembroSeleccionado:function(e){this.miembro=e},estado:function(e){return"ACTIVO"===e?"success":"VENCIDO"===e?"error":"warning"}}},Ue={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("busqueda-miembro",{on:{seleccionado:e.onMiembroSeleccionado}}),e._v(" "),e.miembro?e._e():t("v-card",{staticClass:"mx-auto mt-3 px-5"},[t("v-card-title",[e._v("Escribe el nombre o matrícula del miembro o registra una visita\n      regular para aquellas personas que solo van una o dos veces a la semana.")]),e._v(" "),t("v-card-actions",{staticClass:"justify-center"},[t("v-btn",{attrs:{"x-large":"",color:"indigo",dark:""},on:{click:function(a){e.mostrarDialogoRegular=!0}}},[t("v-icon",{attrs:{left:""}},[e._v(" check ")]),e._v("\n        Registrar visita regular\n      ")],1)],1)],1),e._v(" "),e.miembro?t("v-card",{staticClass:"mx-auto mt-3",attrs:{"max-width":"400","aspect-ratio":"16/9"}},[t("v-img",{attrs:{src:e.urlImagen(e.miembro.imagen),height:"200px"}}),e._v(" "),t("v-card-title",[e._v("\n      "+e._s(e.miembro.nombre)+"\n    ")]),e._v(" "),t("v-card-subtitle",[e._v(" Matrícula: "+e._s(e.miembro.matricula)+" ")]),e._v(" "),t("v-card-text",[t("v-chip",{staticClass:"ma-2",attrs:{color:e.estado(e.miembro.estado),"text-color":"white"}},[e._v("\n        "+e._s(e.miembro.estado)+"\n        "),e.miembro.estado?e._e():t("span",[e._v("SIN MEMBRESÍA")])]),e._v(" "),t("v-list",{attrs:{"two-line":""}},[e.miembro.membresia?t("v-list-item",[t("v-list-item-icon",[t("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-wallet-membership ")])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[e._v("\n              "+e._s(e.miembro.membresia)+"\n            ")]),e._v(" "),t("v-list-item-subtitle",[e._v("Válida hasta "+e._s(e.miembro.fechaFin)+"\n            ")])],1)],1):e._e()],1)],1),e._v(" "),t("v-card-actions",["ACTIVO"===e.miembro.estado?t("div",{staticClass:"mx-auto"},[t("v-btn",{attrs:{"x-large":"",color:"primary",dark:""},on:{click:e.abrirRegistrarVisita}},[t("v-icon",{attrs:{left:""}},[e._v(" check ")]),e._v("\n          Registrar visita\n        ")],1)],1):e._e(),e._v(" "),e.miembro.membresia&&"VENCIDO"!==e.miembro.estado?e._e():t("div",{staticClass:"mx-auto"},[t("v-btn",{attrs:{"x-large":"",color:"warning",dark:""},on:{click:e.abrirRealizarPago}},[t("v-icon",{attrs:{left:""}},[e._v(" check ")]),e._v("\n          Actualizar membresía\n        ")],1)],1)])],1):e._e(),e._v(" "),e.miembro?t("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.mostrarRegistrarVisita,callback:function(a){e.mostrarRegistrarVisita=a},expression:"mostrarRegistrarVisita"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("¿Registrar visita del miembro "+e._s(e.miembro.nombre)+"?")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.cerrarDialogo}},[e._v("Cancelar\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",loading:e.cargando,text:"",disabled:e.cargando},on:{click:e.registrar},scopedSlots:e._u([{key:"loader",fn:function(){return[t("span",[e._v("Registrando...")])]},proxy:!0}],null,!1,3974384209)},[e._v("\n          Registrar visita\n          ")]),e._v(" "),t("v-spacer")],1)],1)],1):e._e(),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.mostrarRealizarPago,callback:function(a){e.mostrarRealizarPago=a},expression:"mostrarRealizarPago"}},[t("realizar-pago",{attrs:{matricula:e.matricula},on:{cerrar:e.cerrarDialogoPago,pagado:e.onPagado}})],1),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n  ")]),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mostrarDialogoRegular,callback:function(a){e.mostrarDialogoRegular=a},expression:"mostrarDialogoRegular"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"text-h5"},[e._v("Registrar visita regular")])]),e._v(" "),t("v-card-text",[t("v-container",[t("v-text-field",{attrs:{label:"Escribe el pago de la visita",required:""},model:{value:e.pagoVisita,callback:function(a){e.pagoVisita=a},expression:"pagoVisita"}})],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){e.mostrarDialogoRegular=!1}}},[e._v("\n          Cerrar\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.cargando,disabled:e.cargando},on:{click:e.registrarVisitaRegular},scopedSlots:e._u([{key:"loader",fn:function(){return[t("span",[e._v("Registrando...")])]},proxy:!0}])},[e._v("\n          Registrar\n          ")])],1)],1)],1)],1)},staticRenderFns:[]},Ie=t("VU/8")(Ee,Ue,!1,null,null,null).exports,ze={name:"Visitas",components:{PeriodoBusqueda:Ce,CartasTotales:Me,CartasTotalesMiembros:je},data:function(){return{busqueda:"",cargando:!1,visitas:[],encabezadoTabla:[{text:"Imagen",sortable:!0,value:"imagen"},{text:"Miembro",sortable:!0,value:"nombre"},{text:"Matrícula",sortable:!0,value:"matricula"},{text:"Fecha",sortable:!0,value:"fecha"},{text:"Membresía ",sortable:!0,value:"membresia"},{text:"Usuario",sortable:!0,value:"usuario"}],filtros:{fechaInicio:null,fechaFin:null},totalesMembresias:[],totalesUsuarios:[],totalesMiembros:[]}},mounted:function(){this.obtenerVisitas()},methods:{onBuscar:function(e){console.log(e),this.filtros={fechaInicio:e[0],fechaFin:e[1]},this.obtenerVisitas()},urlImagen:function(e){return l.generarURL(e)},obtenerVisitas:function(){var e=this;this.cargando=!0;var a={metodo:"obtener",filtros:this.filtros};_.obtenerConDatos(a,"visitas.php").then(function(a){e.visitas=a.visitas,e.totalesMembresias=a.totalesMembresias,e.totalesUsuarios=a.totalesUsuarios,e.totalesMiembros=a.totalesMiembros,e.cargando=!1})}}},$e={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Visitas "),t("span",{staticClass:"indigo--text display-1"},[e._v(" "+e._s(e.visitas.length))])]),e._v(" "),t("periodo-busqueda",{on:{buscar:e.onBuscar}}),e._v(" "),e.visitas.length>0?t("cartas-totales",{attrs:{totales:e.totalesMembresias,titulo:"Visitas registradas por membresía",icono:"mdi-wallet-membership",color:"deep-purple accent-4"}}):e._e(),e._v(" "),t("v-card",{staticClass:"mt-3"},[t("v-card-title",[e._v("\n            Visitas registradas: \n            "),e.filtros.fechaInicio?e._e():t("b",[e._v(" hoy")]),e._v(" "),e.filtros.fechaInicio?t("b",[e._v(" "+e._s(e.filtros.fechaInicio)+" al "+e._s(e.filtros.fechaFin))]):e._e(),e._v(" "),t("v-spacer"),e._v(" "),t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(a){e.busqueda=a},expression:"busqueda"}})],1),e._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.cargando,headers:e.encabezadoTabla,items:e.visitas,search:e.busqueda,"sort-by":"nombre","footer-props":{itemsPerPageText:"Por página"}},scopedSlots:e._u([{key:"item.imagen",fn:function(a){var o=a.item;return[o.imagen?t("v-avatar",[t("img",{attrs:{src:e.urlImagen(o.imagen),alt:"Foto"}})]):e._e()]}}],null,!0)},[e._v(" "),t("template",{slot:"no-data"},[t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                    No se han encontrado datos :(\n                ")])],1)],2)],1),e._v(" "),e.visitas.length>0?t("cartas-totales",{attrs:{totales:e.totalesUsuarios,titulo:"Visitas registradas por usuarios",icono:"mdi-badge-account",color:"brown darken-4"}}):e._e(),e._v(" "),e.visitas.length>0?t("cartas-totales-miembros",{staticClass:"mt-3",attrs:{totales:e.totalesMiembros,titulo:"Miembros con ,mayores visitas"}}):e._e()],1)},staticRenderFns:[]},Fe=t("VU/8")(ze,$e,!1,null,null,null).exports,qe={name:"FormConfiguracion",props:["ajustes"],data:function(){return{formDatos:!1,imagenUrl:null,imagen:null,datos:{nombre:"",telefono:"",direccion:""},reglasForm:[function(e){return!!e||"Debes colocar este campo."}],reglaImagen:[function(e){return!e||e.size<5e6||"La foto debe pesar menos de 5 MB!"}]}},mounted:function(){this.datos=this.ajustes,this.imagenUrl=l.generarURL(this.ajustes.logo)},methods:{registrar:function(){this.datos.logo=this.imagenUrl,this.$emit("registrar",this.datos)},crearImagen:function(e){var a=this,t=new FileReader;t.onload=function(e){a.imagenUrl=e.target.result},t.readAsDataURL(e)},onSeleccionarImagen:function(){this.imagen&&this.crearImagen(this.imagen)}}},Ae={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-form",{ref:"form",model:{value:e.formDatos,callback:function(a){e.formDatos=a},expression:"formDatos"}},[t("v-card",{staticClass:"mb-12 pa-3"},[t("v-text-field",{attrs:{label:"Nombre del gimnasio",rules:e.reglasForm},model:{value:e.datos.nombre,callback:function(a){e.$set(e.datos,"nombre",a)},expression:"datos.nombre"}}),e._v(" "),t("v-text-field",{attrs:{label:"Teléfono",rules:e.reglasForm},model:{value:e.datos.telefono,callback:function(a){e.$set(e.datos,"telefono",a)},expression:"datos.telefono"}}),e._v(" "),t("v-text-field",{attrs:{label:"Dirección",rules:e.reglasForm},model:{value:e.datos.direccion,callback:function(a){e.$set(e.datos,"direccion",a)},expression:"datos.direccion"}}),e._v(" "),t("v-file-input",{attrs:{rules:e.reglaImagen,accept:"image/png, image/jpeg, image/bmp",placeholder:"Selecciona una imagen","prepend-icon":"mdi-camera",label:"Logo",type:"file"},on:{change:e.onSeleccionarImagen},model:{value:e.imagen,callback:function(a){e.imagen=a},expression:"imagen"}}),e._v(" "),t("div",{staticClass:"d-flex flex-column justify-space-between align-center"},[t("img",{attrs:{src:e.imagenUrl,alt:"","aspect-ratio":"16/9",width:"300"}})]),e._v(" "),t("v-card-actions",{staticClass:"justify-center"},[t("v-btn",{attrs:{elevation:"14",color:"primary","x-large":"",disabled:!e.formDatos},on:{click:e.registrar}},[e._v(" Registrar ")])],1)],1)],1)},staticRenderFns:[]},Te={name:"ConfiguracionComponent",components:{FormConfiguracion:t("VU/8")(qe,Ae,!1,null,null,null).exports},data:function(){return{datosAjustes:null,cargando:!1,mostrarMensaje:!1,mensaje:{texto:"",color:""}}},mounted:function(){this.obtenerAjustes()},methods:{onRegistrar:function(e){var a=this;this.cargando=!0;var t=e.logo.includes("data:image");t||(e.logo=e.logo.split("api/")[1]),e.logoCambia=t,console.log(e),_.registrar({metodo:"registrar",ajustes:e},"ajustes.php").then(function(e){e&&(a.mostrarMensaje=!0,a.mensaje={texto:"Información actualizada",color:"success"},a.cargando=!1,a.obtenerAjustes())})},obtenerAjustes:function(){var e=this;this.cargando=!0,_.obtenerConDatos({metodo:"obtener"},"ajustes.php").then(function(a){e.datosAjustes=a,console.log(a),e.cargando=!1})}}},Le={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Configuración del sistema")]),e._v(" "),e.datosAjustes?t("form-configuracion",{attrs:{ajustes:e.datosAjustes},on:{registrar:e.onRegistrar}}):e._e(),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{size:"64"}})],1),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:e.mensaje.color,top:""},model:{value:e.mostrarMensaje,callback:function(a){e.mostrarMensaje=a},expression:"mostrarMensaje"}},[e._v("\n    "+e._s(e.mensaje.texto)+"\n    ")])],1)},staticRenderFns:[]},Ne=t("VU/8")(Te,Le,!1,null,null,null).exports,Ge={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("div",{staticClass:"row"},e._l(e.cartas,function(a,o){return t("div",{key:o,staticClass:"col-sm-6 col-lg-3 col-12"},[t("div",{staticClass:"\n          v-card--material\n          pa-3\n          v-card--material-stats\n          v-card v-sheet\n          theme--light\n          v-card--material--has-heading\n        "},[t("div",{staticClass:"d-flex grow flex-wrap"},[t("div",{staticClass:"\n              text-start\n              v-card--material__heading\n              mb-n6\n              v-sheet\n              elevation-6\n              pa-7\n            ",class:a.color,staticStyle:{"max-height":"70px",width:"auto"}},[t("v-icon",{attrs:{large:"",color:"white"}},[e._v("\n              "+e._s(a.icono)+"\n            ")])],1),e._v(" "),t("div",{staticClass:"ml-6"},[t("div",{staticClass:"ml-auto text-right"},[t("div",{staticClass:"body-3 grey--text font-weight-light"},[e._v("\n                "+e._s(a.nombre)+"\n              ")]),e._v(" "),t("h3",{staticClass:"display-1 font-weight-light text--primary"},[e._v("\n                "+e._s(a.total)+"\n                "),t("small")])])])])])])}),0)])},staticRenderFns:[]},Oe=t("VU/8")({name:"CartasPersonalizadas",props:["cartas"]},Ge,!1,null,null,null).exports,Be={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-card",[t("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"white",elevation:"6","max-width":"calc(100% - 32px)"}},[t("v-sparkline",{attrs:{labels:e.etiquetas,value:e.valores,color:e.color,"line-width":"3",padding:"16"}})],1),e._v(" "),t("v-card-text",{staticClass:"pt-0"},[t("div",{staticClass:"text-h6 font-weight-light mb-2"},[e._v(e._s(e.titulo))]),e._v(" "),t("v-divider",{staticClass:"my-2"}),e._v(" "),t("span",{staticClass:"text-caption grey--text font-weight-light"},[e._v(e._s(e.subtitulo))]),e._v(" "),t("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",e._l(e.etiquetas,function(a,o){return t("th",{key:o},[e._v(e._s(a))])}),0)]),e._v(" "),t("tbody",[t("tr",e._l(e.valores,function(a,o){return t("td",{key:o},[e._v(e._s(a))])}),0)])]},proxy:!0}])})],1)],1)},staticRenderFns:[]},He={name:"InicioComponent",components:{CartasPersonalizadas:Oe,SparklineComponent:t("VU/8")({name:"SparklineComponent",props:["etiquetas","valores","color","titulo","subtitulo"]},Be,!1,null,null,null).exports},data:function(){return{cargando:!1,datosVisitas:[],datosPagos:[],etiquetasVisitasHora:[],valoresVisitasHora:[],etiquetasVisitasSemana:[],valoresVisitasSemana:[],etiquetasVisitasMes:[],valoresVisitasMes:[],etiquetasPagosSemana:[],valoresPagosSemana:[],etiquetasPagosMes:[],valoresPagosMes:[],etiquetasPagosMeses:[],valoresPagosMeses:[]}},mounted:function(){this.obtenerDatos()},methods:{obtenerDatos:function(){var e=this;this.cargando=!0,_.obtenerConDatos({metodo:"obtener"},"inicio.php").then(function(a){e.crearCartas(a.datosVisitas,a.datosPagos),e.etiquetasVisitasHora=l.obtenerClaves(a.visitasHora),e.valoresVisitasHora=l.obtenerValores(a.visitasHora);var t=l.cambiarDiaSemana(a.visitasSemana);e.etiquetasVisitasSemana=l.obtenerClaves(t),e.valoresVisitasSemana=l.obtenerValores(t),e.etiquetasVisitasMes=l.obtenerClaves(a.visitasMes),e.valoresVisitasMes=l.obtenerValores(a.visitasMes);var o=l.cambiarDiaSemana(a.pagosSemana);e.etiquetasPagosSemana=l.obtenerClaves(o),e.valoresPagosSemana=l.obtenerValoresPagos(o),e.etiquetasPagosMes=l.obtenerClaves(a.pagosMes),e.valoresPagosMes=l.obtenerValoresPagos(a.pagosMes);var r=l.cambiarNumeroANombreMes(a.pagosMeses);e.etiquetasPagosMeses=l.obtenerClaves(r),e.valoresPagosMeses=l.obtenerValoresPagos(r),e.cargando=!1})},crearCartas:function(e,a){this.datosVisitas=[{color:"purple darken-1",icono:"mdi-calendar-star",nombre:"Total visitas",total:e.totalVisitas},{color:"pink darken-1",icono:"mdi-calendar",nombre:"Visitas hoy",total:e.visitasHoy},{color:"red darken-1",icono:"mdi-calendar-range",nombre:"Visitas semana",total:e.visitasSemana},{color:"indigo darken-1",icono:"mdi-calendar-month",nombre:"Visitas mes",total:e.visitasMes}],this.datosPagos=[{color:"blue darken-1",icono:"mdi-currency-usd",nombre:"Total pagos",total:"$"+a.totalPagos},{color:"teal darken-1",icono:"mdi-calendar",nombre:"Pagos hoy",total:"$"+a.pagosHoy},{color:"green darken-1",icono:"mdi-calendar-range",nombre:"Pagos semana",total:"$"+a.pagosSemana},{color:"orange darken-1",icono:"mdi-calendar-month",nombre:"Pagos mes",total:"$"+a.pagosMes}]}}},Ke={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("cartas-personalizadas",{attrs:{cartas:e.datosVisitas}}),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[t("sparkline-component",{attrs:{etiquetas:e.etiquetasVisitasHora,valores:e.valoresVisitasHora,color:"pink darken-1",titulo:"Visitas por hora",subtitulo:"Visitas registras por hora"}})],1),e._v(" "),t("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[t("sparkline-component",{attrs:{etiquetas:e.etiquetasVisitasSemana,valores:e.valoresVisitasSemana,color:"red darken-1",titulo:"Visitas semana",subtitulo:"Visitas registras en esta semana"}})],1),e._v(" "),t("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[t("sparkline-component",{attrs:{etiquetas:e.etiquetasVisitasMes,valores:e.valoresVisitasMes,color:"indigo darken-1",titulo:"Visitas mes",subtitulo:"Visitas registras por días de este mes"}})],1)]),e._v(" "),t("cartas-personalizadas",{staticClass:"mt-3",attrs:{cartas:e.datosPagos}}),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[t("sparkline-component",{attrs:{etiquetas:e.etiquetasPagosSemana,valores:e.valoresPagosSemana,color:"green darken-1",titulo:"Pagos semana",subtitulo:"Pagos registrados esta semana"}})],1),e._v(" "),t("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[t("sparkline-component",{attrs:{etiquetas:e.etiquetasPagosMes,valores:e.valoresPagosMes,color:"orange darken-1",titulo:"Pagos mes",subtitulo:"Pagos registrados este mes"}})],1),e._v(" "),t("div",{staticClass:"col-sm-6 col-lg-4 col-12"},[t("sparkline-component",{attrs:{etiquetas:e.etiquetasPagosMeses,valores:e.valoresPagosMeses,color:"blue darken-1",titulo:"Pagos por meses",subtitulo:"Pagos registrados por meses de este año"}})],1)]),e._v(" "),t("v-overlay",{attrs:{value:e.cargando}},[t("v-progress-circular",{attrs:{size:"64"}})],1)],1)},staticRenderFns:[]},Ye=t("VU/8")(He,Ke,!1,null,null,null).exports,We={name:"MiPerfil",components:{CartasPersonalizadas:Oe},data:function(){return{nombreUsuario:localStorage.getItem("nombreUsuario"),datosVisitas:[],datosPagos:[]}},mounted:function(){this.obtenerInformacion()},methods:{cambiarPassword:function(){this.$router.push({name:"CambiarPassword"})},obtenerInformacion:function(){var e=this;_.obtenerConDatos({metodo:"informacion_perfil",idUsuario:localStorage.getItem("idUsuario")},"usuarios.php").then(function(a){e.crearCartas(a.datosVisitas,a.datosPagos)})},crearCartas:function(e,a){this.datosVisitas=[{color:"purple darken-1",icono:"mdi-calendar-star",nombre:"Total visitas",total:e.totalVisitas},{color:"pink darken-1",icono:"mdi-calendar",nombre:"Visitas hoy",total:e.visitasHoy},{color:"red darken-1",icono:"mdi-calendar-range",nombre:"Visitas semana",total:e.visitasSemana},{color:"indigo darken-1",icono:"mdi-calendar-month",nombre:"Visitas mes",total:e.visitasMes}],this.datosPagos=[{color:"blue darken-1",icono:"mdi-currency-usd",nombre:"Total pagos",total:"$"+a.totalPagos},{color:"teal darken-1",icono:"mdi-calendar",nombre:"Pagos hoy",total:"$"+a.pagosHoy},{color:"green darken-1",icono:"mdi-calendar-range",nombre:"Pagos semana",total:"$"+a.pagosSemana},{color:"orange darken-1",icono:"mdi-calendar-month",nombre:"Pagos mes",total:"$"+a.pagosMes}]}}},Je={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v(e._s(e.nombreUsuario))]),e._v(" "),t("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:e.cambiarPassword}},[e._v("\n    Cambiar contraseña\n    ")]),e._v(" "),t("cartas-personalizadas",{attrs:{cartas:e.datosVisitas}}),e._v(" "),t("cartas-personalizadas",{attrs:{cartas:e.datosPagos}})],1)},staticRenderFns:[]},Xe=t("VU/8")(We,Je,!1,null,null,null).exports;o.default.use(V.a);var Ze=new V.a({routes:[{path:"/",name:"InicioComponent",component:Ye},{path:"/membresias",name:"Membresias",component:q},{path:"/miembros",name:"Miembros",component:W},{path:"/nuevo-miembro",name:"NuevoMiembro",component:me},{path:"/editar-miembro/:id",name:"EditarMiembro",component:oe},{path:"/usuarios",name:"Usuarios",component:ne},{path:"/nuevo-usuario",name:"NuevoUsuario",component:fe},{path:"/editar-usuario/:id",name:"EditarUsuario",component:_e},{path:"/cambiar-password",name:"CambiarPassword",component:w},{path:"/pagos",name:"Pagos",component:Se},{path:"/registrar-visita",name:"RegistrarVisita",component:Ie},{path:"/visitas",name:"Visitas",component:Fe},{path:"/configurar",name:"Configurar",component:Ne},{path:"/perfil",name:"MiPerfil",component:Xe}]}),Qe=t("R3MO"),ea=t.n(Qe);t("fRyZ"),t("csSS");o.default.use(ea.a),o.default.config.productionTip=!1;a.default=new ea.a({});new o.default({el:"#app",router:Ze,vuetify:new ea.a,components:{App:S},template:"<App/>"})},csSS:function(e,a){},fRyZ:function(e,a){},"h+Yk":function(e,a){},i4bk:function(e,a){},reXA:function(e,a){},zR90:function(e,a){}},["NHnr"]);
//# sourceMappingURL=app.241279728f5c06c69387.js.map